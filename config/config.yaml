# configuration of model hyperparams in training.py
common:
  dataset_name: 'placeholder'
  lr: 0.00002
  weight_decay: 0.01
  eval_interval: 5  # Evaluate every x epoch
  label_smoothing: 0.1
  patience: 15  # More patience for CPU training
  use_wandb: false  # Disabled by default for stability
  use_amp: true  # Enable mixed precision (will auto-disable on CPU)
  scheduler:
    T_0: 10  # Shorter warm restarts
    T_mult: 2
    eta_min: 0.000001
  warmup_epochs: 5  # Reduced warmup
  grad_clip: 0.5  # mixed precision settings
  fast_eval: true  # Evaluate on full test set during training
  gradient_accumulation_steps: 2  # Reduced for CPU training
lora:
  lora_dropout: 0.2
  lora_rank: 16
  lora_alpha: 32
  merge_lora_for_inference: false
split:
  test_rate: 0.2 # 0.2 default.
  batch_size: 512  # 32 default.
  patch_size: 15  # Pixel size of image patches.
  eval_batch_size: 32  # Smaller eval batch size for CPU training
preprocess:
  pca_components: 15  # Number of PCA components to retain.
memory:
  use_amp: true  # disable for CPU.
  pin_memory: true  # true is faster but may cause memoleak in distant server.
  num_workers: 4  # more memory usage to accelerate data loading.
  max_workers: 8  # max threads.
path:
  data: /data/xjz/houCT/CRCFound-main/dinov3-main/dinov3/data/processed_npy_64_norm
  label: /data/xjz/houCT/CRCFound-main/dinov3-main/dinov3/data/processed_npy_64_norm
  output: /home/chenhaoran/LoLA_hsViT/outputs
key: # keys to access data and label in .mat files.
  data: 'hyperspectral_data'
  label: 'hyperspectral_data'
clsf:
  num: 9
  targets:
    - 'BG'   # Background
    - 'PG'   # ⭐Parathyroid gland
    - 'FAT'
    - 'TG'   # ⭐Thyroid gland
    - 'LN'   # Lymph Node
    - 'MS'   # Muscle
    - 'Blood'
    - 'Tra'  # Trachea
    - 'ES'   # Esophagus
